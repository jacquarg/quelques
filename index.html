<!DOCTYPE html>
<html lang="fr">
  <head>
     <meta charset="utf-8">
     <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
     <!-- HTML Meta Tags -->
<title>Quelques mots pour quelque chose de terminé.</title>
<meta name="description" content="Une œuvre artistique reprenant les tweets les plus récents afin d'afficher, toujous, le même aphorisme.

">

<!-- Facebook Meta Tags -->
<meta property="og:url" content="http://quelquesmotspourquelquechosedetermine.com/">
<meta property="og:type" content="website">
<meta property="og:title" content="Quelques mots pour quelque chose de terminé.">
<meta property="og:description" content="Une œuvre artistique reprenant les tweets les plus récents afin d'afficher, toujous, le même aphorisme.

">
<meta property="og:image" content="http://quelquesmotspourquelquechosedetermine.com/res/img/quelques_social.jpg">

<!-- Twitter Meta Tags -->
<meta name="twitter:card" content="summary_large_image">
<meta property="twitter:domain" content="quelquesmotspourquelquechosedetermine.com">
<meta property="twitter:url" content="http://quelquesmotspourquelquechosedetermine.com/">
<meta name="twitter:title" content="Quelques mots pour quelque chose de terminé.">
<meta name="twitter:description" content="Une œuvre artistique reprenant les tweets les plus récents afin d'afficher, toujous, le même aphorisme.

">
<meta name="twitter:image" content="http://quelquesmotspourquelquechosedetermine.com/res/img/quelques_social.jpg">



    <link href="https://fonts.googleapis.com/css2?family=Cormorant+Infant&family=Mukta&display=swap" rel="stylesheet">
    <!--link href="https://fonts.googleapis.com/css2?family=Cormorant+Infant&family=Mukta&display=swap" rel="stylesheet"-->


    <link href="./res/style.css" rel="stylesheet">

    <style>


      .content {
        margin: 24px;
        padding-top: 100px;
        cursor: pointer;
      }
      @media (min-width: 576px) {
        .content {
          max-width: 1000px;
          padding-top: 160px;
          padding-bottom: 150px;
          padding-left: 24px;
          padding-right: 24px;
          margin-left: auto;
          margin-right: auto;
        }
      }

      @media (min-width: 1400px) {
        .content {
          width: 1000px;
          padding-top: 150px;
          padding-bottom: 150px;
          margin-left: auto;
          margin-right: auto;
        }
      }


      /* popup **********************************************/

      @media (min-width: 576px) {
        .popup {
          position: absolute;
          width: 544px;
          height: 405px;
          left: 50%;
          top: 50%;
          margin-left: -272px;
          margin-top: -202px;
        }
      }

      @media (min-width: 576px) {
        .popup > .content {
          height: 205px;
          margin: 100px 70px;
        }
      }

    </style>
  </head>
  <body id="body">
    <div class="main-container" id="main-container">
      <div class="menu-btn narrow-only" id="menu-btn"><img src='./res/img/menu.png' /></div>
      <div class="menu" id="menu">
        <div class="close narrow-only" id="close-menu"><img src='./res/img/close.png' /></div>
        <a href="./" class="home-btn large-only">#</a>
        <a href="./" class="home-btn narrow-only">#home</a>
        <a href="./capture.html" class="capture-btn">#capture</a>
        <a href="./about.html" class="about-btn">#àpropos</a>
      </div>

      <div class="copyright" id="copyright">Quelques mots pour quelque chose de terminé - 2021 - <a href="https://www.vaxt.fr"  target="_blank">V</a></div>

      <div class="content aphorism" id="aphorism"></div>
    </div>

    <div class="popup-background" id="popup">
      <div class="popup" >
        <div class="close" id="close-popup"><img src='./res/img/close.png' /></div>
        <div class="content large-only">
          <p>Quelques mots pour quelque chose de terminé.</p>

<p>Une œuvre artistique
<br>reprenant les tweets les plus récents
<br>afin d'afficher, toujous, le même aphorisme.</p>
<p><b>Il suffit de cliquer pour recharger les tweets.</b></p>
        </div>
        <div class="content narrow-only">
<p>Quelques mots
<br>pour quelque chose
<br>de terminé.</p>

<p>Une œuvre artistique
<br>reprenant les tweets
<br>les plus récents afin d'afficher,
<br>toujous,
<br>le même aphorisme.</p>

<p><b>Il suffit de cliquer
<br>pour recharger les tweets.</b></p>
        </div>
      </div>
    </div>
    <script src="./script/main.js"></script>
    <script>
    const dummy = {"je":{"id":"1407588626679091200","text":"RT @enjoy_thenoise: Je crois que Photoshop me dit ACAB. https:\/\/t.co\/wU6D93z7Nl","username":"babahatmos"},"t'ai":{"id":"1407587502274265096","text":"@mick78000 Je t'ai s\u00fbrement crois\u00e9 dans le Faubourg, mais pas vu de boxer \ud83e\udd2a\ud83d\ude09 https:\/\/t.co\/HMhM3lkObY","username":"tempsdetrajet"},"donne":{"id":"1407588630454050819","text":"RT @CanActu039: Depuis que je donne des codes harley aux plus actifs y'en a plein que j'ai jamais vu qui viennent me mp pour un code ou cad\u2026","username":"ZzeY___"},"de":{"id":"1407588643443707904","text":"Si no lo escuchaste de m\u00ed entonces es mentira","username":"elicanahui"},"moi":{"id":"1407588648179089408","text":"C'est sans doute \u00e7a le travail que je dois encore faire sur moi. M\u00eame si on m'avait pr\u00e9venu.","username":"maxjrberry"},"tu":{"id":"1407588655783419905","text":"RT @Ma5hall: Ready to roll this dice to Naivasha...nahitaji tu wasupa watatu tu\ud83d\ude02\ud83d\ude02\ud83d\ude02\ud83d\ude02 https:\/\/t.co\/tWXE282VEO","username":"Clinty_ke"},"as":{"id":"1407588659965009922","text":"i don't care if he's a stem student he's MY comfort character and i will self project onto him as much as i want","username":"noyasyuuu"},"aussi":{"id":"1407588666634027009","text":"RT @ClimatEmploi: \"Un petit message personnel parce qu'on est entre nous, @KarimaDelli, c'est que je t'aime. Je suis jaloux aussi, j'aimera\u2026","username":"EmmerlinckF"},"pris":{"id":"1407588664037752836","text":"storytime: je suis tomb\u00e9e amoureuse d'un gars et il a pris du ferme.\nVrmnt jsuis trop triste :( fuck la prison","username":"tye1manstre"},"beaucoup":{"id":"1407588676645883912","text":"Beaucoup de relations avec Dieu sont trop bas\u00e9es sur les \u00e9motions..","username":"FeranmiIs"},"ca":{"id":"1407588682387832832","text":"h\u00e2te de voir Conjuring, ca date les films d\u2019horreur surtout au cin\u00e9ma","username":"wooseis1"},"pourras":{"id":"1407587322082873345","text":"@MatosSBG C\u2019est \u00e0 toi de bien repartir en fonction de ton nombre de book et ton capital. Avec 150\u20ac tu pourras facilement g\u00e9rer 3 \u00e0 4 books. Il faut mettre la somme en fonction du book car certain books sont mieux que d\u2019autres.","username":"JournalDuBet"},"le":{"id":"1407588702147297285","text":"Le foot de Plato, c\u2019est vraiment le pire jeu","username":"noaahbtx"},"garder":{"id":"1407588358575071235","text":"Xavier Bertrand : \"Pour l'avenir de la r\u00e9gion PACA, il n'y a pas photo (...) Renaud Muselier, c'est celui qui pourra continuer \u00e0 redonner et \u00e0 garder la fiert\u00e9 \u00e0 la r\u00e9gion PACA\" https:\/\/t.co\/88yj13Ngoo","username":"Europe1"},"timestamp":"2021-06-23T08:38:05+02:00"}

      let isLoading = false
      // init
      function initialize() {
        initializeMenu()

        document.getElementById("popup").addEventListener("click",
          ev => {
            // prevent closing explanation on click on the links.
            try {
                if (ev.target.nodeName.toLowerCase() == 'a') {
                    return
                }
            } catch(e) {}

            document.getElementById("popup").style.display = "none"
          })

          document.getElementById("aphorism").addEventListener("click", ev => getFresh())
          // hide popup at start.
            // document.getElementById("popup").style.display = "none"
          getFresh()
      }

      function getFresh() {
        if (isLoading) { return }
        loading(true)
        fetch("/api/get_fresh.php")
        .then((response) => response.json())
        //new Promise((resolve, reject) => { setTimeout(resolve, 2* 1000)}).then((res) => dummy)
        .then((json) => {
          buildText(json)
          loading(false)
        })
      }

      function buildText(data) {
        document.getElementById("aphorism").innerHTML = buildAphorism(data)
      }


      function loading(load) {
        isLoading = load
        document.getElementById("aphorism").style
          .cursor = isLoading ? "wait" : null
      }

      initialize()


    </script>
  </body>
  </html>
